<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SULTAN BOSS | PRO TYPER</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00ff88; --error: #ff4757; --bg: #0a0e14;
            --surface: #161b22; --text-dim: rgba(255, 255, 255, 0.2);
        }
        body.theme-blue { --primary: #00d2ff; }
        body.theme-gold { --primary: #f1c40f; }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background-color: var(--bg); color: white; font-family: 'Cairo', sans-serif;
            min-height: 100vh; display: flex; flex-direction: column; align-items: center;
            overflow-x: hidden; padding: 10px;
        }

        #bg-canvas { position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.15; }

        /* Ø­Ø§ÙˆÙŠØ§Øª Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª - Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¸Ù‡ÙˆØ± ÙˆØ¹Ø¯Ù… Ø§Ù„ÙƒØ±ÙƒØ¨Ø© */
        .ad-slot {
            width: 100%; display: flex; justify-content: center; align-items: center;
            margin: 15px 0; overflow: hidden; background: rgba(255,255,255,0.02);
            border-radius: 10px;
        }
        .top-ad { min-height: 90px; }
        .bottom-ad { min-height: 250px; }

        /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„ØºØ§Øª */
        .header-tools {
            width: 100%; max-width: 600px; display: flex; justify-content: space-between;
            align-items: center; margin-bottom: 15px; z-index: 100;
        }
        .lang-select {
            background: var(--surface); border: 1px solid var(--primary);
            color: white; padding: 5px 10px; border-radius: 8px; font-size: 0.8rem;
        }

        .main-container {
            width: 100%; max-width: 600px; padding: 25px 15px; border-radius: 25px;
            background: var(--surface); border: 1px solid rgba(255,255,255,0.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.5); text-align: center;
        }

        .typing-area {
            min-height: 100px; margin-bottom: 20px; display: flex;
            align-items: center; justify-content: center;
            font-size: 1.4rem; line-height: 1.6; position: relative;
        }

        #text-display { color: var(--text-dim); z-index: 2; word-break: break-word; }
        .char-correct { color: var(--primary); text-shadow: 0 0 8px var(--primary); }
        .char-wrong { color: var(--error); background: rgba(255, 71, 87, 0.2); }
        
        #hidden-input {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0; cursor: pointer; z-index: 5;
        }

        .stats-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px;
            margin-bottom: 20px;
        }
        .stat-box {
            background: rgba(0,0,0,0.3); padding: 10px; border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.03);
        }
        .stat-val { display: block; font-size: 1.4rem; color: var(--primary); font-family: 'Orbitron'; }
        .stat-lab { font-size: 0.6rem; opacity: 0.5; text-transform: uppercase; }

        .btn-group { display: flex; gap: 8px; justify-content: center; }
        .btn {
            background: transparent; border: 1px solid var(--primary); color: white;
            padding: 8px 16px; border-radius: 10px; cursor: pointer; font-size: 0.8rem;
        }
        .btn:hover { background: var(--primary); color: black; }

        /* Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù† Ø§Ù„Ø¹Ø±ÙŠØ¶ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ */
        @media (max-width: 600px) {
            .top-ad { display: none; }
            .typing-area { font-size: 1.2rem; }
        }
    </style>
</head>
<body>

    <canvas id="bg-canvas"></canvas>

    <div class="header-tools">
        <h2 style="font-family: 'Orbitron'; font-size: 1rem; color: var(--primary);">SULTAN BOSS</h2>
        <select class="lang-select" onchange="setLanguage(this.value)">
            <option value="ar">ğŸ‡¸ğŸ‡¾ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
            <option value="en">ğŸ‡ºğŸ‡¸ English</option>
            <option value="tr">ğŸ‡¹ğŸ‡· TÃ¼rkÃ§e</option>
            <option value="fr">ğŸ‡«ğŸ‡· FranÃ§ais</option>
        </select>
    </div>

    <div class="ad-slot top-ad">
        <script type="text/javascript">
            atOptions = { 'key' : 'cdbb165bb2d7073ba2573bea978a2d8d', 'format' : 'iframe', 'height' : 90, 'width' : 728, 'params' : {} };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/cdbb165bb2d7073ba2573bea978a2d8d/invoke.js"></script>
    </div>

    <div class="main-container" id="game-box">
        <div class="typing-area">
            <div id="text-display">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</div>
            <input type="text" id="hidden-input" autofocus autocomplete="off" spellcheck="false">
        </div>

        <div class="stats-grid">
            <div class="stat-box"><span class="stat-val" id="wpm">0</span><span class="stat-lab">WPM</span></div>
            <div class="stat-box"><span class="stat-val" id="acc">100</span><span class="stat-lab">ACC %</span></div>
            <div class="stat-box"><span class="stat-val" id="lvl">1</span><span class="stat-lab">LEVEL</span></div>
            <div class="stat-box"><span class="stat-val" id="best">0</span><span class="stat-lab">BEST</span></div>
        </div>

        <div class="btn-group">
            <button class="btn" onclick="switchTheme()">ğŸ¨ Ø«ÙŠÙ…</button>
            <button class="btn" onclick="startNewLevel()">ğŸ”„ Ø¬Ø¯ÙŠØ¯</button>
        </div>
    </div>

    <div class="ad-slot bottom-ad">
        <script type="text/javascript">
            atOptions = { 'key' : 'd36063c799c71ec48bf58ef50fc2b919', 'format' : 'iframe', 'height' : 250, 'width' : 300, 'params' : {} };
        </script>
        <script type="text/javascript" src="//www.highperformanceformat.com/d36063c799c71ec48bf58ef50fc2b919/invoke.js"></script>
    </div>

<script>
    const content = {
        ar: ["Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© ØªØµÙ†Ø¹ Ø§Ù„Ù…Ø³ØªØ­ÙŠÙ„.", "Ø³Ù„Ø·Ø§Ù† Ù…Ù„Ùƒ Ø§Ù„ØªØ§ÙŠØ¨Ù†Ø¬.", "Ø³ÙˆØ±ÙŠØ§ Ø¨Ù„Ø¯ Ø§Ù„Ù…Ø¨Ø¯Ø¹ÙŠÙ†."],
        en: ["Coding is pure magic.", "Sultan is the boss here.", "Speed is everything."],
        tr: ["Kodlama gelecektir.", "Sultan harika biridir.", "HÄ±z her ÅŸeydir."],
        fr: ["Le code est un art.", "Sultan est le patron.", "Vitesse et prÃ©cision."]
    };

    let currentLang = 'ar', target = "", startTime = null, best = localStorage.getItem('sb') || 0;
    const input = document.getElementById('hidden-input'), display = document.getElementById('text-display');

    function setLanguage(l) { currentLang = l; document.body.dir = (l === 'ar') ? 'rtl' : 'ltr'; startNewLevel(); }

    function startNewLevel() {
        const s = content[currentLang];
        target = s[Math.floor(Math.random() * s.length)];
        render(""); input.value = ""; startTime = null;
        document.getElementById('best').innerText = best;
        input.focus();
    }

    function render(val) {
        let h = "";
        for (let i = 0; i < target.length; i++) {
            if (i < val.length) h += (val[i] === target[i]) ? `<span class="char-correct">${target[i]}</span>` : `<span class="char-wrong">${target[i]}</span>`;
            else h += `<span>${target[i]}</span>`;
        }
        display.innerHTML = h;
    }

    input.addEventListener('input', () => {
        if (!startTime) startTime = new Date();
        render(input.value);
        if (input.value === target) {
            const wpm = Math.round((target.length/5)/((new Date()-startTime)/60000));
            if (wpm > best) { best = wpm; localStorage.setItem('sb', best); }
            document.getElementById('wpm').innerText = wpm;
            setTimeout(startNewLevel, 800);
        }
    });

    function switchTheme() {
        const th = ['', 'theme-blue', 'theme-gold'];
        document.body.className = th[(th.indexOf(document.body.className) + 1) % th.length];
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø¬Ø²ÙŠØ¦Ø§Øª Ø®Ù„ÙÙŠØ© Ø®ÙÙŠÙØ©
    const canvas = document.getElementById('bg-canvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let dots = Array.from({length: 30}, () => ({x: Math.random()*canvas.width, y: Math.random()*canvas.height, dx: Math.random()-0.5, dy: Math.random()-0.5}));
    function animate() {
        ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle = "#00ff88";
        dots.forEach(d => {
            d.x += d.dx; d.y += d.dy;
            if(d.x<0 || d.x>canvas.width) d.dx*=-1; if(d.y<0 || d.y>canvas.height) d.dy*=-1;
            ctx.beginPath(); ctx.arc(d.x, d.y, 1, 0, 7); ctx.fill();
        });
        requestAnimationFrame(animate);
    }
    animate(); startNewLevel();
    document.addEventListener('click', () => input.focus());
</script>
</body>
</html>
